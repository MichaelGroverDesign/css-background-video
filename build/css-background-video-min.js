!function(t,e){"use strict";var o=o||!1,n=n||!1;"function"==typeof o&&o.amd?o("background-video",[],e):"object"==typeof n&&n&&"object"==typeof n.exports?n.exports=e:e(t)}(this,function(t){var e=function(e){t.document=t.document||{},e=e||{},this.options=a.extend({},o,e),this.styles(),this.options.autoparse&&this.parse()},o={autoparse:!0,position:"absolute",attribute:"background",className:"css-background-video",dataClass:!1},n=function(){if(t.document.styleSheets){var e=t.document.styleSheets;for(var o in e){var n=e[o].rules||e[o].cssRules;for(var s in n)if(n[s].cssText&&-1!=n[s].cssText.search(this.options.attribute)&&-1!=n[s].cssText.search(/mp4|webm|ogv/g)){var r=n[s].selectorText,a=t.document.querySelectorAll(r),i=n[s].cssText.match(/url\((.*?)\)/g);for(var c in i)i[c]=i[c].replace(/url\(|\)|'|"/g,"");this.render(a,i)}}}},s=function(t,e){var o='<video autoplay muted loop class="'+this.options.className+'">';for(var n in e){var s=e[n],r=a.getType(s);o+='<source src="'+s+'" type="video/'+r+'">'}o+="</video>";var i=new DOMParser;o=i.parseFromString(o,"text/html"),o=o.getElementsByTagName("video")[0],o.addEventListener("error",function(){this.load()},!1),o.addEventListener("canplaythrough",function(){this.parentNode.style.background="none"},!1),o.addEventListener("play",function(){this.setAttribute("data-state","play")},!1),o.addEventListener("pause",function(){this.setAttribute("data-state","pause")},!1),o.addEventListener("ended",function(){this.setAttribute("data-state","ended")},!1);for(var c=0;c<t.length;c++){var d=t[c];d.children?d.insertBefore(o,d.children[0]):d.appendChild(o)}},r=function(){var t="",e=document.getElementById("css-background-video");if(e){if(t=e.innerHTML,t.search(this.options.className)>-1)return;e.parentNode.removeChild(e)}t+="."+this.options.className+" { position: "+this.options.position+"; /* bottom: 50%; right: 50%; -webkit-transform: translateX(-50%) translateY(-50%); transform: translateX(-50%) translateY(-50%); */ min-width: 100%; min-height: 100%; width: auto; height: auto; left: 0; top: 0; z-index: -1000; overflow: hidden; }",a.injectStyles(t)},a={getType:function(t){var e=t.substr(t.lastIndexOf(".")+1);return e.toLowerCase()},injectStyles:function(t){var e=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.id="css-background-video",o.type="text/css",o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t)),e.appendChild(o)},extend:function(){var t=Array.prototype.slice.call(arguments),e=t.shift();for(var o in t){var n=t[o];for(var s in n)n[s]&&n[s].constructor&&n[s].constructor===Object?(e[s]=e[s]||{},arguments.callee(e[s],n[s])):e[s]=n[s]}return e}};e.prototype.parse=n,e.prototype.render=s,e.prototype.styles=r;var i=t.css||{};if(i["background-video"]){var c="object"==typeof i["background-video"]?i["background-video"]:{};t.onload=function(){new e(c)}}return i["background-video"]=e,t.css=i,e});